cfgs:
    anybranch:
        branches: ['.*']
        index: 0
        inherit:
            karydia:
                jobs:
                    head-update:
                        traits:
                            version: ~
                            publish:
                                dockerimages:
                                    karydia: # logical image name
                                        image: 'eu.gcr.io/gardener-project/deleteme/karydia'
                                        target: 'prod-image'
                                        dockerfile: 'Dockerfile'
                                        tag_as_latest: True
    default:
        branches: ['master']
        index: 1
        inherit:
            karydia:
                jobs:
                    head-update:
                        traits:
                            version: ~
                            publish:
                                dockerimages:
                                    karydia: # logical image name
                                        image: 'eu.gcr.io/gardener-project/karydia/karydia'
                                        target: 'prod-image'
                                        dockerfile: 'Dockerfile'
                                        tag_as_latest: True
                                    karydia-dev: # logical image name
                                        image: 'eu.gcr.io/gardener-project/karydia/karydia-dev'
                                        target: 'dev-image'
                                        dockerfile: 'Dockerfile'
                                        tag_as_latest: True
                    pull-request:
                        traits:
                            pull-request:
                                policies:
                                    require-label: 'ci/wanted'
                                    replacement-label: 'ci/triggered'
                            version: ~
                            publish:
                                dockerimages:
                                    karydia-pull-request: # logical image name
                                        image: 'eu.gcr.io/gardener-project/deleteme/karydia'
                                        target: 'prod-image'
                                        dockerfile: 'Dockerfile'
                                        tag_as_latest: True
                    release:
                        traits:
                            component_descriptor: ~
                            release:
                                nextversion: 'bump_minor'
                            version: ~
                            publish:
                                dockerimages:
                                    karydia-release: # logical image name
                                        image: 'eu.gcr.io/gardener-project/karydia/karydia'
                                        target: 'prod-image'
                                        dockerfile: 'Dockerfile'
                                        tag_as_latest: True
